// 1395. Count Number of Teams
// From: https://leetcode.com/problems/count-number-of-teams/

pub struct Solution;

impl Solution {
    pub fn num_teams(rating: Vec<i32>) -> i32 {
        let mut result = 0;
        for i in 0..(rating.len() - 2) {
            let first = rating[i];
            for j in (i + 1)..(rating.len() - 1) {
                let second = rating[j];
                #[allow(clippy::needless_range_loop)]
                for k in (j + 1)..rating.len() {
                    let third = rating[k];
                    if (first < second && second < third) || (first > second && second > third) {
                        result += 1;
                    }
                }
            }
        }
        result
    }
}

#[cfg(test)]
mod tests {
    use super::Solution;

    #[test]
    fn example1() {
        // given
        let rating = vec![2, 5, 3, 4, 1];

        // when
        let result = Solution::num_teams(rating);

        // then
        assert_eq!(result, 3);
    }

    #[test]
    fn example2() {
        // given
        let rating = vec![2, 1, 3];

        // when
        let result = Solution::num_teams(rating);

        // then
        assert_eq!(result, 0);
    }

    #[test]
    fn example3() {
        // given
        let rating = vec![1, 2, 3, 4];

        // when
        let result = Solution::num_teams(rating);

        // then
        assert_eq!(result, 4);
    }

    #[test]
    fn example66() {
        // given
        let rating = vec![
            1832, 2662, 322, 1752, 2274, 764, 1981, 771, 1414, 1999, 413, 1653, 2782, 513, 1219,
            1357, 2567, 1515, 2335, 804, 398, 1296, 1945, 2551, 1562, 1184, 164, 2513, 1763, 948,
            700, 2137, 15, 2506, 2794, 603, 888, 304, 2924, 506, 2480, 116, 305, 2479, 2162, 2265,
            2130, 1446, 1373, 2456, 2299, 2814, 815, 2191, 1197, 2863, 2635, 395, 518, 27, 952,
            675, 347, 2615, 737, 2372, 1746, 245, 1754, 117, 1572, 2941, 979, 2096, 1769, 1152,
            1474, 2036, 1234, 2312, 2298, 797, 1006, 238, 2111, 2732, 556, 614, 530, 1526, 2163,
            502, 1629, 775, 2690, 2631, 1017, 1953, 550, 1104, 1884, 673, 2719, 1555, 653, 853, 58,
            540, 1835, 2408, 1956, 2158, 2603, 632, 2934, 206, 2900, 2714, 1463, 886, 54, 2500,
            2600, 1163, 2865, 799, 1700, 2083, 2788, 2951, 1439, 333, 1497, 2872, 2678, 1365, 2841,
            2376, 479, 1684, 11, 13, 657, 745, 1448, 2001, 1810, 1859, 1826, 1055, 2053, 370, 1084,
            2733, 2961, 635, 2892, 2623, 312, 1212, 441, 2891, 2521, 2305, 2165, 1638, 2329, 1113,
            1702, 860, 214, 325, 142, 844, 2112, 547, 566, 2204, 2999, 2789, 132, 1425, 1481, 159,
            2302, 382, 1423, 388, 49, 1302, 2146, 104, 72, 2540, 84, 2084, 680, 2432, 1156, 2314,
            1519, 1545, 59, 46, 1780, 1648, 945, 616, 1362, 1314, 2604, 1289, 1994, 2666, 736,
            2562, 222, 834, 1808, 2370, 2948, 2695, 1494, 2693, 340, 242, 2842, 1626, 1804, 444,
            1003, 1143, 2067, 1926, 1824, 1198, 1791, 488, 311, 1807, 2363, 644, 669, 1266, 2977,
            233, 2179, 2960, 1665, 1121, 188, 1186, 2, 544, 284, 1499, 2348, 1097, 2467, 595, 26,
            106, 244, 99, 315, 917, 258, 605, 33, 1285, 2850, 1521, 1415, 2180, 2173, 1903, 991,
            137, 2037, 707, 1964, 2760, 552, 1326, 1382, 2769, 716, 2592, 2485, 1120, 41, 1839,
            898, 2490, 760, 791, 2730, 428, 2739, 1816, 1490, 1845, 34, 1924, 355, 2938, 1540,
            1962, 839, 291, 879, 1303, 1535, 1734, 2806, 2154, 2034, 2888, 939, 397, 885, 1726,
            156, 2469, 756, 367, 1094, 2696, 2902, 924, 2471, 29, 301, 1387, 289, 1973, 2532, 1504,
            594, 205, 2007, 1821, 688, 4, 2731, 1459, 1583, 2534, 1434, 710, 2358, 531, 963, 1803,
            2281, 920, 798, 903, 2374, 2549, 772, 759, 1206, 2868, 857, 954, 1171, 2416, 562, 969,
            2547, 2093, 2668, 2207, 2222, 2813, 2920, 1579, 227, 2285, 1818, 63, 95, 668, 2874,
            1136, 2403, 2616, 2098, 1338, 598, 1940, 770, 551, 2502, 437, 678, 521, 2877, 2398,
            687, 1904, 28, 578, 135, 1774, 2023, 2094, 1182, 239, 1319, 542, 2014, 761, 545, 918,
            648, 1589, 2953, 2857, 1618, 1608, 1280, 1149, 2833, 1862, 70, 2862, 2584, 2142, 910,
            1571, 2195, 81, 2086, 1216, 1751, 1693, 1129, 2386, 2605, 1722, 352, 334, 1204, 56,
            2356, 686, 1710, 1455, 2870, 495, 1409, 2525, 2258, 854, 617, 2539, 129, 548, 744,
            2117, 2573, 1822, 494, 1978, 2912, 2355, 288, 674, 2552, 1013, 100, 2381, 641, 3, 119,
            1009, 80, 1732, 1032, 2185, 529, 2770, 807, 1730, 476, 1401, 2680, 929, 192, 984, 300,
            2411, 1695, 1457, 1968, 856, 2574, 1222, 414, 1276, 1669, 2825, 851, 591, 465, 817,
            2287, 2688, 1208, 790, 1692, 1477, 279, 1580, 2430, 1364, 2319, 251, 2189, 1460, 489,
            1885, 1619, 2499, 1124, 389, 2333, 765, 1784, 1456, 1792, 914, 1601, 348, 466, 636,
            826, 1701, 2008, 1484, 329, 1831, 527, 1907, 2816, 292, 2114, 975, 2277, 1347, 2043,
            1413, 2625, 789, 1767, 1256, 2270, 127, 2931, 2424, 219, 1022, 1654, 570, 208, 1492,
            462, 2400, 664, 1064, 158, 2095, 93, 2212, 220, 1453, 2707, 1909, 1735, 2996, 1336,
            2261, 571, 1381, 2740, 1044, 2700, 1148, 1943, 1297, 1727, 1846, 701, 2582, 372, 2803,
            1787, 1781, 1510, 1079, 1185, 2020, 1095, 1250, 2876, 2790, 103, 2905, 593, 1558, 2545,
            358, 2366, 2466, 564, 2708, 2397, 2854, 2164, 2457, 1283, 1254, 1696, 896, 302, 1177,
            2587, 146, 720, 1979, 1646, 1351, 2774, 814, 1625, 741, 1004, 1830, 454, 2336, 2488,
            1667, 1078, 2487, 2990, 608, 2619, 2879, 1220, 2949, 1327, 1466, 2561, 2810, 1391,
            2749, 2027, 2971, 1341, 2340, 2978, 1729, 1291, 2410, 2793, 2040, 2716, 2980, 2438,
            336, 386, 1238, 709, 1544, 1217, 53, 399, 38, 440, 1899, 1854, 376, 2702, 2273, 2177,
            787, 374, 2367, 1647, 679, 1551, 1193, 996, 2557, 2694, 2827, 837, 1565, 718, 1942,
            2097, 2704, 1991, 1863, 114, 2838, 2903, 749, 1424, 2437, 1299, 499, 2947, 1820, 2658,
            2815, 88, 1330, 2489, 2526, 812, 724, 2509, 1802, 2347, 1616, 2150, 2232, 1592, 942,
            818, 1066, 1747, 401, 2851, 1934, 384, 959, 193, 584, 2914, 2458, 1585, 1454, 97, 2345,
            445, 1355, 610, 2357, 1993, 1337, 2015, 1911, 153, 1717, 926, 314, 1046, 2359, 788,
            2919, 619, 2983, 1524, 2252, 739, 2291, 1576, 665, 1096, 406, 1719, 2099, 2071, 725,
            2514, 2943, 1406, 1925, 2737, 2578, 98, 379, 1200, 2553, 1253, 270, 2316, 1739, 2215,
            2599, 510, 1251, 1659, 2332, 2387, 2998, 1431, 2886, 1249, 1511, 2209, 186, 2783, 786,
            1241, 412, 2240, 1513, 2407, 2692, 360, 299, 2364, 2648, 2412, 735, 505, 2698, 2033,
            2887, 1441, 1191, 1621, 461, 2196, 141, 1597, 1269, 1288, 1138, 2415, 2157, 873, 1246,
            1689, 1300, 482, 1649, 1363, 1986, 201, 472, 2349, 2065, 943, 509, 821, 2869, 1587,
            2637, 2712, 1034, 1036, 2496, 157, 1908, 2508, 430, 174, 2775, 2275, 1437, 330, 729,
            2602, 1703, 1857, 1536, 1912, 2241, 2550, 1632, 925, 1847, 448, 254, 2512, 1062, 1578,
            76, 1045, 2280, 909, 2174, 819, 2633, 1142, 1553, 1469, 2823, 2145, 2070, 2338, 800,
            1377, 1458, 392, 2962, 998, 731, 2834, 2217, 1306, 868, 1278, 2122, 1478, 83, 1881,
            829, 1980, 2465, 6, 1100, 2383, 431, 722, 2918, 2594, 380, 2119, 2771, 260, 1135, 2262,
            368,
        ];

        // when
        let result = Solution::num_teams(rating);

        // then
        assert_eq!(result, 44_472_617);
    }

    #[test]
    fn example67() {
        // given
        let rating = vec![
            1902, 2893, 434, 2011, 344, 2422, 1547, 1971, 2041, 2260, 311, 826, 2692, 387, 677,
            1412, 119, 1013, 560, 279, 2361, 437, 2080, 2254, 1734, 1700, 1047, 2754, 2022, 2747,
            1407, 84, 2613, 432, 1626, 1517, 968, 1346, 1073, 1736, 1335, 2946, 1239, 2759, 2840,
            2567, 792, 1582, 1244, 2430, 2425, 1193, 846, 898, 2165, 1685, 2059, 794, 465, 473,
            1198, 979, 1525, 1183, 178, 2292, 1232, 2531, 601, 955, 631, 1868, 2390, 852, 2978,
            2600, 2528, 654, 2511, 231, 1691, 2232, 1008, 1707, 841, 1466, 2262, 2307, 1873, 642,
            2120, 1559, 843, 1816, 1278, 759, 1290, 1459, 2741, 1875, 2100, 1879, 1591, 2977, 1084,
            748, 1172, 360, 2756, 2200, 1194, 2142, 881, 2395, 1141, 2228, 397, 1164, 926, 407,
            1365, 362, 403, 372, 153, 2121, 592, 924, 2185, 610, 883, 2068, 1452, 2309, 616, 964,
            426, 2664, 101, 2706, 1625, 32, 1340, 646, 1853, 1066, 1963, 1269, 18, 424, 1607, 773,
            1089, 1857, 2916, 239, 497, 148, 689, 2327, 1699, 544, 1667, 1486, 275, 346, 2457, 161,
            1596, 364, 2039, 2259, 2696, 2014, 1944, 314, 1345, 2263, 356, 2927, 2408, 750, 2454,
            1851, 2176, 282, 533, 2950, 1773, 285, 2272, 1218, 1630, 2192, 1203, 1897, 310, 595,
            1679, 2342, 213, 1442, 1942, 283, 2545, 286, 4, 1828, 396, 1136, 2850, 143, 1563, 1812,
            122, 2190, 2973, 358, 411, 502, 1731, 425, 553, 808, 2472, 2992, 1987, 2063, 1672,
            1169, 93, 2018, 2229, 2007, 2162, 813, 600, 136, 1043, 992, 322, 296, 2970, 2322, 1036,
            2757, 974, 1386, 1723, 478, 567, 1031, 756, 2490, 307, 1385, 585, 1724, 2517, 1460,
            2244, 2928, 1303, 2001, 885, 1955, 2818, 2203, 2233, 2792, 671, 2239, 1954, 2923, 312,
            214, 1061, 2677, 2809, 2783, 2716, 2282, 1364, 207, 2072, 302, 1729, 1026, 2885, 2222,
            2876, 158, 2209, 2034, 1617, 1266, 1715, 376, 2061, 2762, 2968, 2897, 1843, 1473, 1735,
            2526, 895, 2040, 2815, 1137, 2816, 1554, 1872, 2266, 2235, 56, 1201, 335, 2419, 2832,
            410, 1688, 944, 243, 1730, 2104, 649, 1541, 1921, 195, 1240, 513, 2904, 1177, 745,
            1931, 2238, 930, 1075, 1970, 2851, 2653, 398, 2353, 1276, 1092, 17, 2415, 2423, 2507,
            1805, 2863, 939, 210, 1996, 2582, 519, 2527, 444, 713, 70, 350, 1988, 1749, 2057, 1584,
            1654, 409, 2667, 160, 848, 1764, 684, 175, 57, 1199, 1445, 2938, 1649, 1394, 2750,
            1341, 48, 2416, 1095, 2296, 204, 1156, 1861, 268, 2781, 578, 2325, 1482, 670, 2965,
            1663, 1587, 112, 72, 2396, 1538, 1758, 20, 1200, 2869, 483, 1871, 1105, 1113, 1660,
            1865, 1754, 2270, 2719, 1077, 2835, 976, 1752, 1706, 2146, 2116, 2913, 2698, 2642, 727,
            193, 91, 1833, 2615, 753, 551, 1882, 2267, 923, 2184, 2868, 2917, 138, 140, 129, 2969,
            2124, 2731, 630, 183, 673, 2191, 623, 1775, 2137, 653, 194, 1712, 316, 1952, 2075, 404,
            1012, 593, 2317, 2458, 1939, 1930, 1226, 1343, 1254, 1300, 1850, 2956, 126, 2801, 564,
            251, 2372, 1900, 2874, 146, 999, 2016, 1484, 1153, 1225, 831, 2249, 1302, 1455, 832,
            2385, 697, 1704, 1475, 1450, 236, 2573, 417, 224, 965, 2551, 2645, 374, 459, 2448,
            1106, 2193, 1647, 817, 1257, 1367, 905, 2155, 1313, 1319, 2216, 1265, 1456, 2555, 2608,
            934, 815, 1533, 2583, 2280, 1067, 995, 1242, 580, 1429, 413, 1692, 38, 1131, 558, 2103,
            1443, 2127, 1719, 2279, 1184, 907, 1855, 1698, 634, 632, 2473, 222, 2596, 913, 1019,
            1044, 2462, 386, 115, 996, 2704, 688, 2174, 135, 2497, 693, 1631, 2991, 1813, 1854,
            1176, 113, 2035, 1030, 1072, 523, 8, 1800, 2453, 1924, 2861, 2311, 1323, 172, 1078,
            1228, 117, 1771, 2480, 284, 527, 293, 2400, 2431, 339, 2118, 2153, 1150, 2802, 382,
            2418, 2132, 2326, 1641, 2920, 1160, 431, 422, 252, 2498, 2030, 1885, 295, 132, 139,
            1892, 5, 144, 2846, 1185, 2101, 859, 2879, 814, 405, 633, 2524, 205, 2412, 2694, 1501,
            2182, 1406, 1039, 383, 456, 1417, 891, 347, 2362, 1377, 2087, 506, 2145, 1558, 1286,
            1904, 168, 1273, 197, 1986, 1295, 368, 1274, 1598, 1414, 514, 1600, 1571, 821, 1821,
            1480, 452, 2881, 2314, 2504, 152, 510, 1534, 802, 2560, 259, 1233, 381, 626, 2773, 116,
            1920, 2591, 940, 1388, 2740, 1640, 1093, 1578, 1336, 1822, 257, 2461, 223, 2602, 43,
            2714, 1908, 589, 2264, 855, 1401, 1728, 1173, 565, 740, 2172, 1395, 717, 1474, 1124,
            1980, 2345, 860, 1664, 2974, 2371, 212, 363, 2609, 1260, 1689, 1294, 1748, 2195, 2665,
            2985, 2298, 723, 1814, 1657, 1780, 1553, 997, 1768, 234, 42, 1261, 2612, 2894, 1011,
            1152, 1082, 1006, 960, 1063, 2183, 1317, 1441, 909, 570, 118, 660, 1550, 60, 2077,
            2256, 2976, 1470, 2960, 1552, 1315, 872, 2884, 2919, 807, 2367, 721, 1310, 1126, 2479,
            2737, 1155, 2377, 1675, 1739, 2961, 2401, 950, 1143, 2866, 2098, 2571, 171, 849, 2469,
            1041, 1046, 2718, 572, 2250, 1497, 1237, 1338, 2993, 1114, 2194, 556, 2046, 1161, 2027,
            945, 1034, 36, 1324, 2456, 2376, 265, 554, 2032, 2898, 267, 2029, 2707, 1463, 674,
            1985, 11, 2795, 1410, 2680, 2558, 1359, 2617, 719, 1329, 1975, 2324, 1256, 2629, 1555,
            1795, 537, 2685, 1556, 230, 1252, 1247, 83, 2614, 185, 650, 31, 255, 1516, 2572, 2994,
            2728, 1844, 1296, 2592, 840, 217, 2907, 51, 27, 342, 629, 2925, 1968, 2169, 1992, 2428,
            1119, 542, 763, 1207, 2962, 485, 2939, 937, 369, 1096, 2186, 529, 2378, 170, 587, 2867,
            787, 970, 2941, 1862, 247, 2125, 1360, 2295, 761, 2650, 1827, 1454, 2883, 2234, 2004,
            2873, 2624, 2188, 989, 1579, 2092, 1889, 1635, 2900, 235, 2669, 2953, 2537, 2043, 2110,
            1118, 1932, 1570, 1403, 2588, 1493, 1250, 1393, 2090, 395, 887, 532, 925, 648, 1644,
            494, 875, 888, 2201, 2732, 1057, 2439, 943, 1229, 1618, 1923, 702, 1826, 2024, 2420,
            351, 245, 2833, 1334, 2753, 820, 2803, 504, 53, 2657, 1542, 319, 1109, 590, 2575, 2117,
            2670, 2215, 1841, 242, 2151, 819, 44, 2915, 2536, 1444, 2825, 986, 2746, 2079, 2586,
            1017, 657, 149, 202, 1523, 313, 1568, 124, 758, 308, 1378, 2208, 2348, 764, 1166, 1245,
            511, 238, 1277, 1580, 602, 1009, 2350, 620, 1217, 490, 227, 1040, 1029, 2056, 2937,
            2038, 1433, 2748, 2676, 1238, 1760, 987, 2128, 2952,
        ];

        // when
        let result = Solution::num_teams(rating);

        // then
        assert_eq!(result, 55_010_814);
    }
}
